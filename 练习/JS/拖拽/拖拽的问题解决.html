<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title></title>
    <style type="text/css">
        #div1 {
            width: 200px;
            height: 200px;
            background: red;
            position: absolute;
        }
    </style>
    <script type="text/javascript">
        window.onload = function () {
            var oDiv = document.getElementById("div1");
            var disX = 0;
            var disY = 0;
            oDiv.onmousedown = function (ev) {
                var oEvent = ev || event;
                disX = oEvent.clientX - this.offsetLeft;
                disY = oEvent.clientY - this.offsetTop;
                // 事件加载document 上
                document.onmousemove = function (ev) {
                    var oEvent = ev || event;
                    oDiv.style.left = oEvent.clientX - disX + 'px';
                    oDiv.style.top = oEvent.clientY - disY + 'px';
                };
                document.onmouseup = function () {
                    document.onmousemove = document.onmouseup = null;
                };

                return false;  // 阻止默认行为，解决如果有文字被选中的bug

            };

        };
    </script>
</head>

<body>
<div id="div1">

</div>
</body>

</html>
