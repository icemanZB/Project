<!DOCTYPE HTML>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>无标题文档</title>
    <style>
        #div1 { width: 30px; height: 500px; background: black; position: absolute; left: 10px; top: 10px; }

        #div2 { width: 30px; height: 30px; background: red; position: absolute; left: 0; top: 0; }
    </style>
    <script>
        window.onload = function () {

            var oDiv2 = document.getElementById('div2');

            oDiv2.onmousedown = function (ev) {

                var oEvent = ev || event;

                var disY = oEvent.clientY - this.offsetTop;

                document.onmousemove = function (ev) {
                    var oEvent = ev || event;

                    oDiv2.style.top = oEvent.clientY - disY + 'px';

                };

                document.onmouseup = function () {
                    document.onmousemove = document.onmouseup = null;
                };

                return false;

            }

        }
    </script>
</head>

<body>
<div id="div1">
    <div id="div2"></div>
</div>
</body>
</html>
