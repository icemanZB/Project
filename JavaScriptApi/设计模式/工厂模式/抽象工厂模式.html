<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script>
        // 这是一个抽象工厂模式
        var XMLHttpFactory = function () {
        };
        // 如果真的要调用这个方法会抛出一个错误，它不能被实例化，只能用来派生子类
        XMLHttpFactory.prototype = {
            createFactory: function () {
                throw new Error('This is an abstract class');
            }
        };
        var XHRHandler = function () {
            XMLHttpFactory.call(this);
        };
        XHRHandler.prototype = new XMLHttpFactory();
        XHRHandler.prototype.constructor = XHRHandler; // 重定义 createFactory方法
        XHRHandler.prototype.createFactory = function () {
            var XMLHttp = null;
            if (window.XMLHttpRequest) {
                XMLHttp = new XMLHttpRequest();
            } else {
                XMLHttp = new ActiveXObject('Microsoft.XMLHttp');
            }

            return XMLHttp;
        };

        var AjaxHander = function () {
            var XMLHttp = XHRHandler.createXMLHttp();
        };

    </script>
</head>
<body>

</body>
</html>