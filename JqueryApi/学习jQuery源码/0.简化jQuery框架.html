<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>简化jQuery框架</title>
	<script>
		// $() => jQuery()
		(function(){
			var rootjQuery,
			// (21 , 94) 定义了一些变量和函数
			//  其中这个函数很重要，这个就是jQuery函数，在61行
			jQuery = function( selector, context){
				// The jQuery object is actually just the init constructor 'enhanced'
				return new jQuery.fn.init( selector, context, rootjQuery );  // 63 行
			};

			// 96 行 jQuery.fn 就是 jQuery的原型
			jQuery.fn = jQuery.prototype={
				constructor: jQuery,
				init: function( selector, context, rootjQuery ) {
					// something to do
					return this;
				}
			};  // 96行-283行， 给 jQuery 对象，添加一些方法和属性

			// Give the init function the jQuery prototype for later instantiation
			/* 给init函数后实例化jQuery原型， jQuery.fn 就是 jQuery的原型，现在赋值给jQuery.fn.init的原型
			 * jQuery.prototype = jQuery.fn = jQuery.fn.init.prototype ( 让 jQuery 原型中的init方法中的原型对象指向jQuery的原型 )
			 * 赋值了以后。在调用的时候，当 init 中没有方法的时候，就会去原型函数中调用
			 * jQuery.extends()、jQuery.fn.extends()；jQuery.extends()是直接扩展jQuery.而jQuery.fn.extends()，很明显是扩展的原型
			 * 这样所有通过 $ 创建出来的对象都将共享 fn 对象上的成员。因此，jQuery 对象都有了类似 attr 、html 等等方法了
			 * */
			jQuery.fn.init.prototype = jQuery.fn;  // 283行

			// 285 -  347 行 是 jQuery 继承方，希望后续添加的的代码通过 extend 方法，挂载到jQuery对象上，方便扩展
			// 通过 jQuery.fn.extend 扩展的函数，大部分都会调用通过 jQuery.extend 扩展的同名函数
			jQuery.extend = jQuery.fn.extend = function() {};

			// 349 - 817 jQuery.extend({}) : 扩展一些工具方法
			/* 工具方法，就是在函数下面扩展方法(或属性)，也就是扩展静态方法或者静态属性 ( $.trim()、$.proxy()，$ 就是一个函数 )
			 * 工具方法和实例方法($().css()、$().html())的关系，工具方法就是底层的方法，实例方法通过调用工具方法，来完成一些事情
			 * */
			jQuery.extend({});

			// All jQuery objects should point back to these
			rootjQuery = jQuery(document);  // 866行

			window.jQuery = window.$ = jQuery; // 8826行，对外提供接口

		})();

	</script>
</head>
<body>

</body>
</html>